version: 1.0
id: "flow_0013"
doc: "Flow with args"
vars:
  path: flow/flow_0013
  file_name: sample_data
flow:
- id: "Step 1"
  doc: "Decompress file: (generated by https://www.mockaroo.com/)"
  step: tar -xvf $path/$file_name\.tar.gz -C /tmp
- id: "Step 2"
  doc: "Output the file"
  step: less -FX /tmp/$file_name\.csv
- id: "Step 3"
  doc: "Use perl to grab all .ca domains"
  step: perl -ne '/\.ca/ && print'
  with_stdin: yes
- id: "Step 4"
  doc: "Count the number of .ca domains"
  step: wc -l
  with_stdin: yes
